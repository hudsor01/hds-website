---
phase: 45-ui-ux-alignment-accessibility
plan: 01
type: execute
---

<objective>
Fix navbar visibility and glass morphism rendering issues in dark mode to achieve WCAG AA compliance and restore intended design.

Purpose: Critical UI usability issue - navigation items are invisible and glass effects aren't rendering, making the navbar unusable and breaking the intended modern aesthetic.

Output: Fully visible navbar with working glass morphism, accessible contrast ratios (>= 4.5:1), and legible tagline across all viewports.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/43-nextjs-architecture/43-01-SUMMARY.md
@.planning/phases/44-test-coverage/44-01-SUMMARY.md
@src/app/globals.css
@src/components/layout/Navbar.tsx
@src/app/layout.tsx

**Tech stack available:**
- Tailwind CSS with @theme directive
- Next.js 15 App Router
- OKLCH color space for modern color definitions
- Dark mode via next-themes

**Established patterns:**
- Color tokens defined in globals.css @theme block
- Semantic color names (background, foreground, accent, muted, etc.)
- Utility classes in @layer components
- NO emojis unless explicitly requested

**Current UI issues identified:**
1. **Navbar text invisible**: `--color-muted-foreground-dark: oklch(0.65 0.015 90)` renders too dark against `bg-background/20`
2. **Tagline illegible**: `text-accent/80` (80% opacity) makes amber text too dark in navbar
3. **Glass effect broken**: `bg-background/20 backdrop-blur-xl` not rendering transparency
4. **WCAG violations**: Contrast ratios likely < 4.5:1 for navbar text

**Design intent (from analysis):**
- Translucent glassmorphic navbar with blur effect
- Clear visual hierarchy: company name > tagline > nav items > CTAs
- Warm amber (accent) for branding and CTAs
- Slate blue (primary) for trust signals
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix dark mode color tokens for navbar visibility</name>
  <files>src/app/globals.css</files>
  <action>
    Update dark mode color tokens in @theme block to ensure WCAG AA compliance (>= 4.5:1 contrast):

    1. Increase `--color-muted-foreground-dark` from `oklch(0.65 0.015 90)` to `oklch(0.85 0.015 90)` for nav item visibility
    2. Remove opacity from tagline: change Navbar.tsx line 69-71 from `text-accent/80` to `text-accent` (100% opacity)
    3. Increase navbar background opacity: change Navbar.tsx line 47 from `bg-background/20` to `bg-background/90` for reliable rendering
    4. Add explicit white text override for nav items in dark mode: add `dark:text-foreground` to nav link className

    WHY these changes:
    - OKLCH lightness of 0.65 is too low for dark backgrounds (causes contrast failure)
    - 0.85 lightness provides 4.5:1+ contrast while maintaining the muted aesthetic
    - Accent color at 80% opacity compounds darkness in dark mode
    - Background at 20% opacity becomes invisible against dark content
    - 90% opacity provides solid backdrop while preserving translucency aesthetic
  </action>
  <verify>
    1. `bun run dev` and visit http://localhost:3000
    2. Toggle dark mode (theme toggle in navbar)
    3. Confirm all navigation items (Services, Portfolio, Tools, About, Pricing) are clearly visible
    4. Confirm tagline "Ship 3x Faster, 60% Cheaper" is legible below logo
    5. Inspect navbar element - should have visible background (not transparent)
    6. No TypeScript errors: `bunx tsc --noEmit`
    7. No ESLint errors: `bunx eslint src/app/globals.css src/components/layout/Navbar.tsx`
  </verify>
  <done>
    - muted-foreground-dark updated to oklch(0.85 0.015 90)
    - Tagline uses text-accent (not text-accent/80)
    - Navbar background uses bg-background/90 (not /20)
    - Nav items have dark:text-foreground class
    - All navbar text clearly visible in dark mode
    - Zero TypeScript/ESLint errors
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Fixed navbar visibility in dark mode with proper contrast and glass effect</what-built>
  <how-to-verify>
    1. Run: `bun run dev`
    2. Visit: http://localhost:3000
    3. Dark mode checks:
       - Toggle to dark mode using theme toggle
       - Verify company name "Hudson Digital Solutions" is white/visible
       - Verify tagline "Ship 3x Faster, 60% Cheaper" is amber and legible
       - Verify all nav items (Services, Portfolio, Tools, About, Pricing) are white/visible
       - Hover over nav items - should highlight with accent color
       - Verify navbar background is translucent but visible (not invisible)
       - Verify backdrop blur effect is working (content behind navbar is blurred)
    4. Light mode checks:
       - Toggle to light mode
       - Verify all text remains visible and properly contrasted
       - No regression in light mode appearance
    5. Responsive checks:
       - Desktop (>1024px): Full nav visible
       - Mobile (<768px): Hamburger menu icon visible, menu items in dropdown
    6. Accessibility:
       - Tab through navbar - all items keyboard accessible
       - Focus rings visible on interactive elements
  </how-to-verify>
  <resume-signal>Type "approved" to complete phase, or describe any remaining issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `bunx tsc --noEmit` passes (0 TypeScript errors)
- [ ] `bunx eslint .` passes (0 ESLint errors)
- [ ] Dark mode navbar fully visible with proper contrast
- [ ] Light mode navbar unchanged (no regressions)
- [ ] Glass morphism effect renders correctly
- [ ] Tagline legible in both modes
- [ ] WCAG AA contrast ratios achieved (4.5:1+)
- [ ] All navigation items keyboard accessible
- [ ] No horizontal scroll or layout breaks
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Navbar text visible in dark mode (WCAG AA compliance)
- Glass morphism effect renders correctly
- Tagline legible at all viewports
- Zero TypeScript or ESLint errors introduced
- No regressions in light mode
- User approves visual verification
  </success_criteria>

<output>
After completion, create `.planning/phases/45-ui-ux-alignment-accessibility/45-01-SUMMARY.md`:

# Phase 45-01: UI/UX Alignment & Accessibility Summary

**Fixed critical navbar visibility issues in dark mode, achieving WCAG AA compliance**

## Accomplishments

- Increased dark mode text contrast for navbar visibility
- Fixed tagline opacity for legibility
- Improved navbar background opacity for glass effect rendering
- Achieved WCAG AA contrast ratios (>= 4.5:1)
- Maintained design aesthetics while fixing usability

## Files Created/Modified

- `src/app/globals.css` - Updated --color-muted-foreground-dark token
- `src/components/layout/Navbar.tsx` - Fixed tagline opacity, navbar background, nav item colors

## Decisions Made

- Chose oklch(0.85) for muted-foreground-dark (balances visibility with muted aesthetic)
- Increased navbar bg opacity to 90% (reliable rendering across browsers)
- Removed tagline opacity to fix compounding darkness issue

## Issues Encountered

None expected (straightforward color token adjustments)

## Next Phase Readiness

Phase 45 complete. All v2.0 phases finished. Ready for v3.0 milestone planning or production deployment.
</output>
