---
phase: 11-route-consolidation
plan: 01
type: execute
---

<objective>
Delete the duplicate `src/app/tools/` directory, keeping only the `(tools)` route group.

Purpose: Remove 6,440 lines of duplicate code that creates maintenance burden and version drift.
Output: Single route structure using Next.js route groups, verified by build and tests.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-final-validation-verification/RESULTS.md

**Background:**
Two parallel route structures exist in the codebase:
- `src/app/tools/` (6,440 LOC) - Creates `/tools/*` URL paths
- `src/app/(tools)/` (6,418 LOC) - Creates `/*` URL paths (route group, no URL prefix)

The `(tools)` version is the correct, active implementation:
- Uses Next.js route groups for clean URLs like `/paystub`, `/invoice`
- Contains more up-to-date code (uses `useLocalStorageDraft`, newer error patterns)
- Is the version referenced by the documented structure in STRUCTURE.md

The `tools/` version is stale:
- Creates unintended `/tools/paystub` paths that may conflict
- Has older code patterns (inline storage helpers, older imports)
- Creates maintenance burden: bugs must be fixed in two places

**Files that differ between directories (3 files):**
1. `page.tsx` - Tools landing page (different imports, metadata)
2. `contract-generator/page.tsx` - Different imports, newer patterns in (tools)
3. `invoice-generator/page.tsx` - Different patterns

All other files are identical or nearly identical.

**Dependencies:**
- No imports from `@/app/tools/` anywhere in codebase
- No E2E or unit tests reference `/tools/` paths
- No redirects in next.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify the (tools) route group is working correctly</name>
  <files>src/app/(tools)/page.tsx, src/app/(tools)/paystub-generator/page.tsx</files>
  <action>
    Run the build to verify the (tools) route group generates all expected routes.
    Check that tool pages are accessible at root paths (not /tools/ prefixed).

    Commands:
    ```bash
    bun run build 2>&1 | grep -E "(paystub|invoice|contract|tools)" | head -20
    ```

    Expected: Routes like /paystub-generator, /invoice-generator appear without /tools prefix.
  </action>
  <verify>Build output shows tool routes at root level, not under /tools/</verify>
  <done>Build confirms (tools) route group is generating correct URL structure</done>
</task>

<task type="auto">
  <name>Task 2: Delete the duplicate src/app/tools/ directory</name>
  <files>src/app/tools/ (entire directory)</files>
  <action>
    Remove the entire src/app/tools/ directory.

    This directory contains 6,440 lines of duplicate code across:
    - 1 landing page (page.tsx)
    - 1 error boundary (error.tsx)
    - 14 tool subdirectories with pages
    - Various client components

    Command:
    ```bash
    rm -rf src/app/tools
    ```

    This is safe because:
    - No imports reference this directory
    - No tests reference /tools/ paths
    - The (tools) route group provides identical functionality at better URLs
  </action>
  <verify>ls src/app/tools shows "No such file or directory"</verify>
  <done>src/app/tools directory completely removed</done>
</task>

<task type="auto">
  <name>Task 3: Verify build and type-checking after deletion</name>
  <files>N/A (verification only)</files>
  <action>
    Run TypeScript compilation and production build to verify no broken imports or references.

    Commands:
    ```bash
    bun run typecheck
    bun run build
    ```

    If any errors occur, they indicate hidden dependencies on the deleted directory.
    Expected: Both commands should pass with 0 errors.
  </action>
  <verify>bun run typecheck returns 0 errors, bun run build succeeds</verify>
  <done>TypeScript and build both pass after deletion</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `bun run typecheck` succeeds with 0 errors
- [ ] `bun run build` succeeds
- [ ] `ls src/app/tools` returns "No such file or directory"
- [ ] `bun test tests/` passes (no test regressions)
- [ ] Route count in build output is reduced (fewer duplicate routes)
</verification>

<success_criteria>

- src/app/tools/ directory completely deleted
- TypeScript compiles with 0 errors
- Production build succeeds
- All tests pass
- ~6,440 lines of code removed
- No functionality lost (all tools accessible via (tools) route group)
</success_criteria>

<output>
After completion, create `.planning/phases/11-route-consolidation/11-01-SUMMARY.md`:

# Phase 11 Plan 1: Route Consolidation Summary

**Deleted 6,440 LOC of duplicate route structure**

## Accomplishments

- Removed duplicate src/app/tools/ directory
- Consolidated on (tools) route group for clean URLs
- Eliminated maintenance burden of dual-directory bug fixes

## Files Deleted

- `src/app/tools/` - Entire directory (6,440 LOC)
  - 1 landing page
  - 1 error boundary
  - 14 tool subdirectories

## Decisions Made

- Kept (tools) route group as the canonical implementation
- (tools) version has newer code patterns and cleaner URLs

## Issues Encountered

[Any issues or "None"]

## Next Step

Phase 11 complete, ready for Phase 12: God Function Refactor
</output>
