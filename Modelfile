FROM qwen3-coder:30b

# Set context window to 32k (32768 tokens)
# This is the "sweet spot" for your 36GB RAM Mac.
# - Model size (30B Q4): ~18 GB
# - Context (32k): ~2-3 GB
# - Total: ~21 GB (Fits comfortably within your 27GB allocation)
PARAMETER num_ctx 32768

# Lower temperature for precise, deterministic code generation
PARAMETER temperature 0.1

# Increase repeat penalty slightly to prevent loops in code generation
PARAMETER repeat_penalty 1.1

# Set stop sequences to prevent the model from rambling
PARAMETER stop "<|endoftext|>"
PARAMETER stop "<|im_end|>"
