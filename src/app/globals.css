@import "tailwindcss";

@source "../**/*.{ts,tsx}";
@source "../../components/**/*.{ts,tsx}";

/*
 * Hudson Digital Solutions - Design System
 * Slate blue primary (trust) + Warm amber accent (action)
 */

@theme {
  /* Base surfaces */
  --color-background: oklch(0.985 0.002 90);
  --color-foreground: oklch(0.145 0.015 260);
  --color-card: oklch(0.995 0.001 90);
  --color-card-foreground: oklch(0.145 0.015 260);
  --color-popover: oklch(0.995 0.001 90);
  --color-popover-foreground: oklch(0.145 0.015 260);

  /* Primary - Slate Blue */
  --color-primary: oklch(0.35 0.08 255);
  --color-primary-foreground: oklch(0.985 0.002 90);

  /* Secondary */
  --color-secondary: oklch(0.94 0.01 255);
  --color-secondary-foreground: oklch(0.25 0.05 255);

  /* Muted */
  --color-muted: oklch(0.955 0.008 90);
  --color-muted-foreground: oklch(0.45 0.02 255);

  /* Accent - Warm Amber */
  --color-accent: oklch(0.75 0.14 65);
  --color-accent-foreground: oklch(0.20 0.03 65);

  /* Semantic colors */
  --color-destructive: oklch(0.55 0.20 25);
  --color-destructive-foreground: oklch(0.98 0.005 25);
  --color-destructive-light: oklch(0.96 0.03 25);
  --color-destructive-muted: oklch(0.92 0.06 25);
  --color-destructive-text: oklch(0.50 0.18 25);

  --color-success: oklch(0.60 0.16 150);
  --color-success-foreground: oklch(0.985 0.005 150);
  --color-success-light: oklch(0.95 0.05 150);
  --color-success-muted: oklch(0.90 0.08 150);
  --color-success-text: oklch(0.40 0.12 150);

  --color-warning: oklch(0.80 0.14 80);
  --color-warning-foreground: oklch(0.18 0.02 80);
  --color-warning-light: oklch(0.96 0.05 80);
  --color-warning-muted: oklch(0.92 0.08 80);
  --color-warning-text: oklch(0.50 0.12 80);

  --color-info: oklch(0.62 0.14 245);
  --color-info-foreground: oklch(0.985 0.005 245);
  --color-info-light: oklch(0.96 0.03 245);
  --color-info-muted: oklch(0.92 0.06 245);
  --color-info-text: oklch(0.45 0.12 245);

  /* Borders & inputs */
  --color-border: oklch(0.88 0.015 255);
  --color-input: oklch(0.96 0.008 90);
  --color-ring: oklch(0.45 0.10 255);

  /* Sidebar */
  --color-sidebar: oklch(0.975 0.005 255);
  --color-sidebar-foreground: oklch(0.20 0.04 255);
  --color-sidebar-primary: oklch(0.35 0.08 255);
  --color-sidebar-primary-foreground: oklch(0.98 0.002 90);
  --color-sidebar-accent: oklch(0.92 0.03 65);
  --color-sidebar-accent-foreground: oklch(0.30 0.04 65);
  --color-sidebar-border: oklch(0.90 0.01 255);
  --color-sidebar-ring: oklch(0.45 0.10 255);

  /* Text hierarchy */
  --color-text-inverted: oklch(0.98 0.002 90);
  --color-text-primary: oklch(0.145 0.015 260);
  --color-text-secondary: oklch(0.40 0.025 260);
  --color-text-muted: oklch(0.50 0.02 260);

  /* Overlays */
  --color-bg-overlay: oklch(0.15 0.02 260 / 0.85);

  /* Dark mode */
  --color-background-dark: oklch(0.12 0.015 260);
  --color-foreground-dark: oklch(0.94 0.008 90);
  --color-card-dark: oklch(0.16 0.018 260);
  --color-card-foreground-dark: oklch(0.94 0.008 90);
  --color-popover-dark: oklch(0.16 0.018 260);
  --color-popover-foreground-dark: oklch(0.94 0.008 90);
  --color-primary-dark: oklch(0.70 0.10 255);
  --color-primary-foreground-dark: oklch(0.12 0.015 260);
  --color-secondary-dark: oklch(0.22 0.02 260);
  --color-secondary-foreground-dark: oklch(0.92 0.008 90);
  --color-muted-dark: oklch(0.20 0.015 260);
  --color-muted-foreground-dark: oklch(0.85 0.015 90);
  --color-accent-dark: oklch(0.78 0.13 65);
  --color-accent-foreground-dark: oklch(0.15 0.02 65);
  --color-border-dark: oklch(0.28 0.02 260);
  --color-input-dark: oklch(0.18 0.015 260);
  --color-ring-dark: oklch(0.70 0.10 255);

  /* Typography */
  --font-sans: var(--font-spline), system-ui, sans-serif;
  --font-mono: ui-monospace, monospace;

  /* Radius */
  --radius: 0.625rem;

  --color-scheme: light dark;
}

/* Base styles */
html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  max-width: 100vw;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
}

*:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* WCAG touch targets */
button, a, [role="button"] {
  min-width: 44px;
  min-height: 44px;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* Utilities used in components */
@layer components {
  .glass-card {
    background: oklch(from var(--card) l c h / 0.9);
    backdrop-filter: blur(24px) saturate(1.2);
    border: 1px solid oklch(from var(--border) l c h / 0.5);
    border-radius: 1rem;
  }

  .glass-card-light {
    background: oklch(from var(--card) l c h / 0.6);
    backdrop-filter: blur(16px);
    border: 1px solid oklch(from var(--border) l c h / 0.4);
    border-radius: 1rem;
  }

  /* Grid background patterns (use existing --border token) */
  .grid-pattern {
    background-image:
      linear-gradient(oklch(from var(--border) l c h / 0.4) 1px, transparent 1px),
      linear-gradient(90deg, oklch(from var(--border) l c h / 0.4) 1px, transparent 1px);
    background-size: 32px 32px;
  }
  .grid-pattern-light {
    background-image:
      linear-gradient(oklch(from var(--border) l c h / 0.25) 1px, transparent 1px),
      linear-gradient(90deg, oklch(from var(--border) l c h / 0.25) 1px, transparent 1px);
    background-size: 40px 40px;
  }
  .grid-pattern-subtle {
    background-image:
      linear-gradient(oklch(from var(--border) l c h / 0.15) 1px, transparent 1px),
      linear-gradient(90deg, oklch(from var(--border) l c h / 0.15) 1px, transparent 1px);
    background-size: 48px 48px;
  }
  .grid-pattern-minimal {
    background-image:
      linear-gradient(oklch(from var(--border) l c h / 0.08) 1px, transparent 1px),
      linear-gradient(90deg, oklch(from var(--border) l c h / 0.08) 1px, transparent 1px);
    background-size: 64px 64px;
  }

  .container-narrow { max-width: 42rem; margin-inline: auto; padding-inline: 1rem; }
  .container-wide { max-width: 80rem; margin-inline: auto; padding-inline: 1rem; }

  .flex-center { display: flex; align-items: center; justify-content: center; }
  .flex-between { display: flex; align-items: center; justify-content: space-between; }

  .hover-lift {
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .hover-lift:hover { transform: translateY(-3px); }

  .card-hover-glow {
    transition: all 0.5s;
  }
  .card-hover-glow:hover {
    box-shadow: 0 20px 40px -10px oklch(from var(--primary) l c h / 0.15);
    transform: translateY(-4px);
  }

  .transition-smooth { transition: all 0.3s ease-in-out; }

  .page-padding-x { padding-inline: 1rem; }
  @media (min-width: 640px) { .page-padding-x { padding-inline: 1.5rem; } }
  @media (min-width: 1024px) { .page-padding-x { padding-inline: 2rem; } }

  .text-page-title { font-size: clamp(2.5rem, 5vw, 4rem); line-height: 1.1; }
  .text-section-title { font-size: clamp(1.875rem, 4vw, 3rem); line-height: 1.2; }

  .link-primary {
    color: var(--primary);
    text-decoration: underline;
    text-decoration-color: oklch(from var(--primary) l c h / 0.3);
  }

  .link-accent {
    color: var(--accent);
    text-decoration: underline;
    text-decoration-color: oklch(from var(--accent) l c h / 0.3);
  }

  .surface-overlay {
    background-color: oklch(from var(--foreground) l c h / 0.04);
  }
}

/* Spacing utilities */
@utility section-spacing { padding-block: 6rem; }
@utility gap-tight { gap: 0.5rem; }
@utility gap-content { gap: 1rem; }
@utility gap-comfortable { gap: 1.5rem; }
@utility gap-sections { gap: 3rem; }

/* Section padding */
@utility py-section { padding-block: 5rem; }
@utility py-section-sm { padding-block: 3rem; }

/* Card padding sizes */
@utility card-padding-sm { padding: 1rem; }
@utility card-padding { padding: 1.5rem; }
@utility card-padding-lg { padding: 2rem; }

/* Margin bottom scale */
@utility mb-subheading { margin-bottom: 0.5rem; }
@utility mb-heading { margin-bottom: 1rem; }
@utility mb-comfortable { margin-bottom: 1.5rem; }
@utility mb-content-block { margin-bottom: 2rem; }
@utility mb-card-content { margin-bottom: 1.25rem; }

/* Margin top scale */
@utility mt-heading { margin-top: 1rem; }
@utility mt-card-content { margin-top: 1.25rem; }

/* Padding */
@utility p-button { padding: 0.625rem 1rem; }

/* Vertical spacing stacks */
@utility space-y-tight { & > :not(:first-child) { margin-top: 0.5rem; } }
@utility space-y-content { & > :not(:first-child) { margin-top: 1rem; } }
@utility space-y-comfortable { & > :not(:first-child) { margin-top: 1.5rem; } }
@utility space-y-sections { & > :not(:first-child) { margin-top: 3rem; } }

/* Z-index scale */
@utility z-sticky { z-index: 40; }
@utility z-fixed { z-index: 50; }
@utility z-nav { z-index: 60; }
@utility z-modal { z-index: 70; }

/* Animation */
@keyframes blob {
  0% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0, 0) scale(1); }
}
.animate-blob { animation: blob 7s infinite; }
.animation-delay-2000 { animation-delay: 2s; }

/* Dialog */
@layer components {
  .dialog-overlay {
    background-color: var(--bg-overlay);
    position: fixed;
    inset: 0;
  }
  .dialog-content {
    background-color: var(--popover);
    border: 1px solid var(--border);
    border-radius: 0.5rem;
    padding: 1.5rem;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90vw;
    max-width: 48rem;
  }
}

/* Typography component */
@layer components {
  .typography { line-height: 1.625; }
  .typography h1 { font-size: 1.875rem; font-weight: 700; margin-bottom: 1rem; }
  .typography h2 { font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
  .typography h3 { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; }
  .typography p { margin-bottom: 1rem; }
  .typography a { color: var(--primary); text-decoration: underline; }
  .typography a:hover { color: var(--accent); }
  .typography ul, .typography ol { padding-left: 1.5rem; margin-block: 1rem; }
  .typography li + li { margin-top: 0.5rem; }
  .typography blockquote { padding-left: 1.5rem; border-left: 4px solid var(--accent); color: var(--muted-foreground); font-style: italic; }
  .typography code { padding: 0.25rem 0.5rem; background: var(--secondary); border-radius: 0.375rem; font-family: var(--font-mono); font-size: 0.875rem; }
}

/* Responsive text */
@layer components {
  .text-responsive-sm { font-size: 0.8125rem; }
  .text-responsive-lg { font-size: 1.25rem; }
  .text-responsive-xl { font-size: 1.5rem; }
  .text-responsive-2xl { font-size: 1.875rem; }
  .text-responsive-3xl { font-size: 2.25rem; }
  @media (min-width: 768px) {
    .text-responsive-sm { font-size: 0.875rem; }
    .text-responsive-lg { font-size: 1.5rem; }
    .text-responsive-xl { font-size: 1.875rem; }
    .text-responsive-2xl { font-size: 2.25rem; }
    .text-responsive-3xl { font-size: 3rem; }
  }
}

/* Grid layouts */
@layer components {
  .grid-3 { display: grid; grid-template-columns: 1fr; gap: 2rem; }
  @media (min-width: 768px) { .grid-3 { grid-template-columns: repeat(3, 1fr); } }
  .grid-4 { display: grid; grid-template-columns: 1fr; gap: 2rem; }
  @media (min-width: 640px) { .grid-4 { grid-template-columns: repeat(2, 1fr); } }
  @media (min-width: 1024px) { .grid-4 { grid-template-columns: repeat(4, 1fr); } }
}
